---
layout: post
title: 자료구조 - 배열(리스트)
category: CS
tags: CS
---

# 자료 구조의 분류

<img alt="Classification of Data Structure" src="https://i1.wp.com/www.tutorialscan.com/wp-content/uploads/2018/11/Data-Structure-Types.png?resize=633%2C420&ssl=1">

<br>
- **Primitive Data Structure(단순 구조)**
  : 프로그래밍에서 사용되는 기본 데이터 타입
- **None-Primitive Data Structure(비단순 구조)**
  : 단순한 데이터를 저장하는 구조가 아니라 **여러 데이터를 목적에 맞게 효과적으로 저장하는 자료 구조**
- **Linear Data Structure(선형 구조)**
  : 저장되는 자료의 전후 관계가 1:1 (ex. List, Stacks, Queues)
- **Non-Linear Data Structure(비선형 구조)**
  : 데이터 항목 사이의 관계가 1:n 또는 n:m (ex. Graphs, Trees )

<br>

기능적으로는 Array와 List 거의 동일하기에 이 둘을 묶어 포스팅 제목을 붙였지만, 엄밀하게는 메모리 효율적으로 Array가 유리하다. 하지만 사용하기에는 List가 더 편하다고 한다. 필자는 Python을 사용해보지 않았기에 모르지만 Array를 사용하려면 import Array 모듈을 import해서 사용해야한다고 나와있다. 이후 해당 자료구조에 대한 설명은 자바스크립트의 Array를 기준으로 한다.

<br>

# Array(배열)는 순차적으로 데이터를 저장하는 자료 구조

<br>
- 메모리 상에서 물리적으로 데이터가 순차적으로 저장됨.
- 배열은 주로 서로 연결된 데이터들을 순차적으로 저장할때 사용한다.
- 순서가 상관 없더라도 서로 연결된 데이터들을 저장할때 일반적으로 사용된다.
- 그래서 array가 가장 자주 사용되는 자료구조중 하나가 되었다.
- 삽입(insertion) 순서대로 저장된다. (즉, 새로 삽입되는 요소는 배열의 뒤에서부터 저장됨)
- 이미 생성된 리스트도 수정 가능하다(mutable).
- 동일한 값도 여러번 삽입 가능하다.

<br>
## 배열의 내부 구조

<img alt="배열의 내부 구조" src="https://beginnersbook.com/wp-content/uploads/2018/10/array.jpg">

- 저장된 데이터의 순서가 있다보니 당연히 순차적으로 번호를 지정할 수 있다. 마치 학교에서 이름을 부르지 않고 번호를 불르는 것과 동일한 개념이다. 이 번호를 index 라고 한다.
- Index는 0부터 시작하고 마이너스 부호를 가질 수 있다. 마이너스 index는 맨 마지막 요소 부터 시작한다. 예를 들어, -1 은 맨 마지막 요소이다.
- 배열의 요소로 배열이 들어갈 수 있으며, 이를 다중차원 배열(Multi-dimensional Array)이라고 부른다. (하단 사진 참조)

![다중차원배열](/./../public/img/multi-array.png)

<br>

# 배열의 단점

<br>

### - 배열은 정보가 자주 삭제 되거나 추가되는 데이터를 담기에 적절치 않다.

> - 항상 메모리가 순차적으로 이어져있어서 삭제된 요소로 부터 뒤에 있는 모든 요소들을 앞으로 한칸씩 이동시켜주어야 하기 때문이다.
> - 즉 **요소를 삭제하는 것은 다른 자료 구조에 비해 느릴 수 있다**는 뜻임.
> - 예를 들어, 순차적으로 담겨있는 데이터 중 특정 위치에 있는 중간의 요소가 삭제 되는 경우에 삭제된 요소로 부터 뒤에 있는 모든 요소들을 앞으로 한칸씩 이동시켜주어야 한다.

### - 배열의 사이즈를 재조정(resizing)할 때 오래걸린다.

> - 배열은 메모리가 순차적으로 채워지기 때문에 배열이 처음 생성될 때 어느 정도 메모리를 미리 할당한다(pre-allocation).
> - 메모리를 pre-allocation 함으로써 새로 추가되는 요소들도 순차적으로 메모리에 저장될 수 있다.
> - 하지만 요소들이 처음 할당한 메모리 이상으로 많아지면 resizing 필요(즉, 메모리 추가 할당), 추가 할당된 메모리 또한 순차적이어야 함.
> - 예를 들어, 100개의 메모리 공간 다 차서 100개를 추가해야 되는 경우, 200개 크기의 메모리를 생성 후 > 기존 100개를 복사하고 > 그 다음 101번 부터 데이터가 순차적으로 추가된다
> - **그렇기 때문에 Array 는 사이즈 예측이 잘 안 되는 데이터를 다루기에 적절치않다**
> - 일반적으로 대부분의 언어에서는 배열의 메모리 pre-allocation과 resizing을 자동으로 실행한다. 사이즈가 급격하게 자주 늘어날 확률이 있는 데이터는 array 말고 더 적합한 자료구조를 선택해야함

![배열사이즈조정](/./../public/img/array_add.png)

<br>

# 배열은 언제 사용해야 하는가?

<br>
```
- 순차열적인 데이터를 저장할 때
    - ex) 주식 가격. 어제의 2만원과 오늘의 2만원이 다름 >>> 값보다는 순서가 중요한 데이터
- 다차원 데이터를 다룰 때 >>> Multi-dimensional Array
- 어떠한 특정 요소를 빠르게 읽어야 할 때 >> index를 통해 곧바로 읽을 수 있기 때문
- 데이터의 사이즈가 급변하게 자주 변하지 않을 때
- 요소가 자주 삭제 되거나 추가되지 않을 때
```

<br>
자료출처: [자료구조의분류\_이미지](https://i1.wp.com/www.tutorialscan.com/wp-content/uploads/2018/11/Data-Structure-Types.png?resize=633%2C420&ssl=1)
